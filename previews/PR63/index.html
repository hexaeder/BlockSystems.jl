<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · BlockSystems.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://hexaeder.github.io/BlockSystems.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>BlockSystems.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Basics"><span>Basics</span></a></li><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Transformations"><span>Transformations</span></a></li><li><a class="tocitem" href="#Function-building"><span>Function building</span></a></li><li><a class="tocitem" href="#Block-specifications"><span>Block specifications</span></a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="generated/spacecraft/">Spacecraft</a></li><li><a class="tocitem" href="generated/kuramoto_network/">Kuramoto Network</a></li><li><a class="tocitem" href="generated/kuramoto_without_nd/">Kuramoto without ND.jl</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/hexaeder/BlockSystems.jl/blob/main/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="BlockSystems"><a class="docs-heading-anchor" href="#BlockSystems">BlockSystems</a><a id="BlockSystems-1"></a><a class="docs-heading-anchor-permalink" href="#BlockSystems" title="Permalink"></a></h1><h2 id="Basics"><a class="docs-heading-anchor" href="#Basics">Basics</a><a id="Basics-1"></a><a class="docs-heading-anchor-permalink" href="#Basics" title="Permalink"></a></h2><p>An input-output-system is characterized by a set of equations. These equations can be either first order ODEs or explicit algebraic equations.</p><p class="math-container">\[\begin{aligned}
\dot{\mathbf x}(t) &amp;= f(\mathbf x(t), \mathbf y(t), \mathbf i(t), p)\\
\mathbf y(t) &amp;= g(\mathbf x(t), \mathbf y(t), \mathbf i(t), p)
\end{aligned}\]</p><p>such system contains of </p><ul><li>states (<span>$x$</span> and <span>$y$</span>) and</li><li>parameters (<span>$i$</span>, <span>$p$</span>).</li></ul><p>States are determined by the given equations (i.e. the equations describe how the states change). Parameters are externally given. For IO systems we define subgroups</p><ul><li>states<ul><li>internal states (<code>istates</code>) which are meant for internal use</li><li>output states (<code>outputs</code>) which might be used as inputs for other systems</li></ul></li><li>parameters<ul><li>internal parameters (<code>iparams</code>) which are typically constant and</li><li>inputs (<code>inputs</code>) which can be connected to the outputs of other systems.</li></ul></li></ul><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><p>The base type for the BlockSystems is <code>AbstractIOSystem</code> with the has two concrete implementations. </p><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.AbstractIOSystem" href="#BlockSystems.AbstractIOSystem"><code>BlockSystems.AbstractIOSystem</code></a> — <span class="docstring-category">Type</span></header><section><div><p>abstract supertype for <a href="#BlockSystems.IOBlock"><code>IOBlock</code></a> and <a href="#BlockSystems.IOSystem"><code>IOSystem</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/BlockSystems.jl#LL25-L27">source</a></section></article><p>An <code>IOBlock</code> consists of a set of equations, a set of inputs and outputs and a name.</p><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.IOBlock" href="#BlockSystems.IOBlock"><code>BlockSystems.IOBlock</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct IOBlock &lt;: AbstractIOSystem</code></pre><p>A basic IOSystem which consists of a single ODESystem.</p><ul><li><p><code>name::Symbol</code></p></li><li><p><code>inputs::Vector{SymbolicUtils.Symbolic}</code></p></li><li><p><code>iparams::Vector{SymbolicUtils.Symbolic}</code></p></li><li><p><code>istates::Vector{SymbolicUtils.Symbolic}</code></p></li><li><p><code>outputs::Vector{SymbolicUtils.Symbolic}</code></p></li><li><p><code>system::ODESystem</code></p></li><li><p><code>removed_states::Vector{SymbolicUtils.Symbolic}</code></p></li><li><p><code>removed_eqs::Vector{Equation}</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/BlockSystems.jl#LL64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.IOBlock-Tuple{Vector{&lt;:Equation}, Any, Any}" href="#BlockSystems.IOBlock-Tuple{Vector{&lt;:Equation}, Any, Any}"><code>BlockSystems.IOBlock</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">IOBlock(eqs, inputs, outputs; name, iv, warn)
</code></pre><p>Construct a new IOBlock for the given arguments.</p><pre><code class="language- hljs">using BlockSystems, ModelingToolkit
@parameters t i(t)
@variables x(t) o(t)
D = Differential(t)

iob = IOBlock([D(x) ~ i, o ~ x], [i], [o], name=:iob)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/BlockSystems.jl#LL145">source</a></section></article><p>An <code>IOSystem</code> consists of multiple <code>AbstractIOSystems</code> and the connections between them.</p><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.IOSystem" href="#BlockSystems.IOSystem"><code>BlockSystems.IOSystem</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct IOSystem &lt;: AbstractIOSystem</code></pre><p>A composite <code>IOSystem</code> which consists of multiple <a href="#BlockSystems.AbstractIOSystem"><code>AbstractIOSystem</code></a> which are connected via a vector of namespaced pairs (<code>subsys1.out =&gt; subsys2.in</code>).</p><p>An <code>IOSystem</code> contains maps how to promote the namespaced variables of the subsystem to the new scope    subsys1₊x(t) =&gt; x(t)    subsys1₊y(t) =&gt; subsys1₊y(t)    subsys2₊y(t) =&gt; subsys2₊y(t)</p><ul><li><p><code>name::Symbol</code></p></li><li><p><code>inputs::Vector{SymbolicUtils.Symbolic}</code></p></li><li><p><code>iparams::Vector{SymbolicUtils.Symbolic}</code></p></li><li><p><code>istates::Vector{SymbolicUtils.Symbolic}</code></p></li><li><p><code>outputs::Vector{SymbolicUtils.Symbolic}</code></p></li><li><p><code>removed_states::Vector{SymbolicUtils.Symbolic}</code></p></li><li><p><code>connections::Vector{Pair{SymbolicUtils.Symbolic, SymbolicUtils.Symbolic}}</code></p></li><li><p><code>namespace_map::Dict{SymbolicUtils.Symbolic, SymbolicUtils.Symbolic}</code></p></li><li><p><code>systems::Vector{AbstractIOSystem}</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/BlockSystems.jl#LL186">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.IOSystem-Tuple{Any, Vector{&lt;:AbstractIOSystem}}" href="#BlockSystems.IOSystem-Tuple{Any, Vector{&lt;:AbstractIOSystem}}"><code>BlockSystems.IOSystem</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">IOSystem(
    cons,
    io_systems;
    namespace_map,
    globalp,
    outputs,
    name,
    autopromote
)
</code></pre><p>Construct a new IOSystem from various subsystems. Arguments:</p><ul><li><p><code>cons</code>:</p><p>The connections in the form <code>sub1.output =&gt; sub2.input</code>. It is also possible to use simple  algebraic equations such as <code>sub1.o1 + sub2.o2 =&gt; sub3.input</code>.</p><p>If <code>:autocon</code>, BlockSystems will automaticially create connections  based on matchin output and input names. This requires the output name to be unique. The  same output may be connected to several inputs with the same name.</p></li><li><p><code>io_systems</code>: Vector of subsystems</p></li><li><p><code>namespace_map</code>: Provide collection of custom namespace promotions / renamings e.g. <code>sub1.input =&gt; voltage</code>. Variables without entry in the map will be promoted automatically. Automatic promotion means that the sub-namespace is removed whenever it is possible without naming conflicts. The map may contain inputs, outputs, istates, iparams and removed_states. The rhs of the map can be provided as as Symbol: <code>sub1.input =&gt; :newname</code>.</p></li><li><p>Specify outputs of composite system:</p><p><code>outputs=:all</code> (default): All of the subsystem outputs will become system outputs.</p><p><code>outputs=:remaining</code>: Outputs, which have been used in <code>connections</code> won&#39;t become outputs of the composite system.</p><p><code>outputs=[sub1.o, sub2.o]</code>: only specified outputs will become outputs of composite sytem. All other sub-outputs will become internal states of the connected system (and might be optimized away in <code>connect_system</code>).</p></li><li><p><code>name</code>: namespace</p></li><li><p><code>autopromote=true</code>: enable/disable automatic promotion of variable names to system namespace</p></li><li><p><code>globalp=Symbol[]</code>: List of symbols, which represent system-wide parameters (iparams or inputs). All occurences in subsystems will be promoted to the system namespace (i.e. if <code>globalp=[:K]</code>, each component block which has some parameter <code>:K</code> will be represented by the same parameter rather than) <code>blk1.K</code> and <code>blk2.K</code>.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/BlockSystems.jl#LL215">source</a></section></article><h2 id="Transformations"><a class="docs-heading-anchor" href="#Transformations">Transformations</a><a id="Transformations-1"></a><a class="docs-heading-anchor-permalink" href="#Transformations" title="Permalink"></a></h2><p>Each <code>IOSystem</code> can be transformed into an <code>IOBlock</code>. At this step the actual manipulation of the equations happen.</p><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.connect_system" href="#BlockSystems.connect_system"><code>BlockSystems.connect_system</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">connect_system(
    ios;
    verbose,
    simplify_eqs,
    remove_superflous_states,
    substitute_algebraic_states,
    substitute_derivatives,
    warn
)
</code></pre><p>Recursively transform <code>IOSystems</code> to <code>IOBlocks</code>.</p><ul><li>substitute inputs with connected outputs</li><li>try to eliminate equations for internal states which are not used to calculate the specified outputs of the system.</li><li>try to eliminate explicit algebraic equations (i.e. outputs of internal blocks) by substituting each occurrence with their rhs. Explicit algebraic states which are marked as system outputs won&#39;t be removed.</li></ul><p>Arguments:</p><ul><li><code>ios</code>: system to connect</li><li><code>verbose=false</code>: toggle verbosity (show equations at different steps)</li><li><code>remove_superflous_states=true</code>: toggle whether the system should try to get rid of unused states</li><li><code>substitute_algebraic_states=true</code>: toggle whether the algorithm tries to get rid of explicit algebraic equations</li><li><code>substitute_derivatives=true</code>: toggle whether to expand all derivatives and try to substitute them</li><li><code>simplify_eqs=true</code>: toggle simplification of all equations at the end</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/transformations.jl#LL4">source</a></section></article><p>There are also other transformations available</p><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.replace_vars" href="#BlockSystems.replace_vars"><code>BlockSystems.replace_vars</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">replace_vars(blk::IOBlock, p::Dict; warn=WARN[])
replace_vars(blk::IOBlock, p::Pair; warn=WARN[])
replace_vars(blk::IOBlock; warn=WARN[], v1=val1, v2=val2)</code></pre><p>Replace variables, either rename them by giving a new <code>Symbol</code> or replace them by actual numerical values (only possible for inputs and iparams). Returns new <code>IOBlock</code>.</p><p>Keys of dict can be either <code>Symbols</code> or the <code>Symbolic</code> subtypes. I.e. <code>blk.u =&gt; 1.0</code> is as valid as <code>:u =&gt; 1.0</code>.</p><pre><code class="nohighlight hljs">replace_vars(blk; π = 3.14, foo = :bar) # set blk.π to number and rename foo
replace_vars(blk, Dict(:π =&gt; 3.14, :foo = :bar))
replace_vars(blk, blk.π =&gt; 3.14)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/transformations.jl#LL297-L310">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.make_input" href="#BlockSystems.make_input"><code>BlockSystems.make_input</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">make_input(blk::IOBlock, sym; warn=WARN[])</code></pre><p>Change given sym from iparam to input.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/transformations.jl#LL373-L377">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.make_iparam" href="#BlockSystems.make_iparam"><code>BlockSystems.make_iparam</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">make_iparam(blk::IOBlock, sym; warn=WARN[])</code></pre><p>Change given sym from input to iparam.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/transformations.jl#LL394-L398">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.set_input" href="#BlockSystems.set_input"><code>BlockSystems.set_input</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_input(blk::IOBlock, p::Pair; verbose=false)</code></pre><p>Close an input of blk. Given as an pair of (input=&gt;substitution). The input may be given as an symbol (i.e. :a) or symbolic (i.e. blk.a). The substitution term can be either a numer or a term of parameters (which will become internal parameters).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/transformations.jl#LL351-L358">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.remove_superfluous_states" href="#BlockSystems.remove_superfluous_states"><code>BlockSystems.remove_superfluous_states</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">remove_superfluous_states(iob::IOBlock; verbose=false, warn=WARN[])</code></pre><p>This function removes equations from block, which are not used in order to generate the outputs. It looks for equations which have no path to the outputs equations in the dependency graph. Returns a new IOBlock.</p><p>The removed equations will be not available as removed equations of the new IOBlock</p><p>TODO: Maybe we should try to reduce the inputs to.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/transformations.jl#LL92-L102">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.substitute_algebraic_states" href="#BlockSystems.substitute_algebraic_states"><code>BlockSystems.substitute_algebraic_states</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">substitute_algebraic_states(iob::IOBlock; verbose=false, warn=WARN[])</code></pre><p>Reduces the number of equations by substituting explicit algebraic equations. Returns a new IOBlock with the reduced equations. The removed eqs are stored together with the previous <code>removed_eqs</code> in the new IOBlock. Won&#39;t reduce algebraic states which are labeled as <code>output</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/transformations.jl#LL137-L144">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.substitute_derivatives" href="#BlockSystems.substitute_derivatives"><code>BlockSystems.substitute_derivatives</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">substitute_derivatives(iob::IOBlock; verbose=false, warn=WARN[])</code></pre><p>Expand all derivatives in the RHS of the system. Try to substitute in the lhs with their definition.</p><p>I.e.</p><pre><code class="nohighlight hljs">D(o) ~ 1 + D(i)   =&gt;  D(o) ~ 2 + a
D(i) ~ 1 + a          D(i) ~ 1 + a</code></pre><p>Process happens in multiple steps:</p><ul><li>try to find explicit equation for differential</li><li>if none found try to recursively substitute inside differential with known algebraic states</li><li>expand derivatives and try again to substitute with known differentials</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/transformations.jl#LL196-L212">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.simplify_eqs" href="#BlockSystems.simplify_eqs"><code>BlockSystems.simplify_eqs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">simplify_eqs(iob::IOBlock; verbose=false, warn=WARN[])</code></pre><p>Simplify eqs and removed eqs and return new IOBlock.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/transformations.jl#LL271-L275">source</a></section></article><h2 id="Function-building"><a class="docs-heading-anchor" href="#Function-building">Function building</a><a id="Function-building-1"></a><a class="docs-heading-anchor-permalink" href="#Function-building" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.generate_io_function" href="#BlockSystems.generate_io_function"><code>BlockSystems.generate_io_function</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">generate_io_function(
    ios;
    f_states,
    f_inputs,
    f_params,
    f_rem_states,
    expression,
    verbose,
    type,
    warn
)
</code></pre><p>Generate callable functions for an <code>AbstractIOSystem</code>. An <code>IOSystem</code> will be transformed to an <code>IOBlock</code> first. At this level there is no more distinction between internal states and outputs: <code>states=(istates ∪ outputs)</code>.</p><p>Arguments:</p><ul><li><code>ios</code>: the system to build the function</li></ul><p>optional:</p><ul><li><code>type=:auto</code>: <code>:ode</code> or <code>:static</code>, determines the output of the function</li><li><code>f_states</code>: define states=(istates ∪ outputs) which should appear first</li><li><code>f_inputs</code>: define inputs which should appear first</li><li><code>f_params</code>: define parameters which should appear first</li><li><code>f_rem_states</code>: define removed states algebraic state order</li><li><code>expression=Val{false}</code>: toggle expression and callable function output</li><li><code>warn=WARN[]</code>: toggle warnings for missing <code>f_*</code> parameters</li></ul><p>Returns an named tuple with the fields</p><ul><li>for <code>type=:ode</code>:<ul><li><code>f_ip</code> in-place function <code>f(dstates, states, inputs, params, iv)</code></li><li><code>f_oop</code> out-of-place function <code>f(states, inputs, params, iv) =&gt; dstates</code></li></ul></li><li>for <code>type=:static</code>:<ul><li><code>f_ip</code> in-place function <code>f(states, inputs, params, iv)</code></li><li><code>f_oop</code> out-of-place function <code>f(inputs, params, iv) =&gt; states</code></li></ul></li><li>always:</li><li><code>massm</code> mass matrix of the system (<code>nothing</code> if :static)</li><li><code>states</code> symbols of states (in order)</li><li><code>inputs</code> symbols of inputs (in order)</li><li><code>params</code> symbols of parameters (in order)</li><li><code>rem_states</code> symbols of removed states (in order)</li><li><code>g_ip</code>, <code>g_oop</code> functions <code>g((opt. out), states, inputs, params, iv)</code> to calculate the removed states (substituted expl. algebraic equations). <code>nothing</code> if empty.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/function_generation.jl#LL3">source</a></section></article><h2 id="Block-specifications"><a class="docs-heading-anchor" href="#Block-specifications">Block specifications</a><a id="Block-specifications-1"></a><a class="docs-heading-anchor-permalink" href="#Block-specifications" title="Permalink"></a></h2><p>Sometimes it is useful to define a the input/output structure for a block.</p><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.BlockSpec" href="#BlockSystems.BlockSpec"><code>BlockSystems.BlockSpec</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct BlockSpec
BlockSpec(in::Vector, out::Vector; in_strict=true, out_strict=false)</code></pre><p>Block specification, defines which inputs/outputs an <a href="#BlockSystems.AbstractIOSystem"><code>AbstractIOSystem</code></a> should have. Contains two vectors of <code>Symbols</code>. Can be initialized with Vectors of <code>Symbols</code>, <code>Num</code> or <code>&lt;:Symbolic</code>.</p><p>If <code>strict=true</code> the in/outputs <em>must equal</em> the specification. If <code>strict=false</code> the block <em>must contain</em> the in/outputs from the specification.</p><p>Object is functor: call <code>(::BlockSpec)(ios)</code> to check whether <code>ios</code> fulfills specification. See also <a href="#BlockSystems.fulfills"><code>fulfills</code></a>.</p><pre><code class="nohighlight hljs">iob = IOBlock(...)
spec = BlockSpec([:uᵣ, :uᵢ], [:iᵣ, :iᵢ])
fulfills(iob, spec)
spec(iob)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/BlockSystems.jl#LL389-L409">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="BlockSystems.fulfills" href="#BlockSystems.fulfills"><code>BlockSystems.fulfills</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fulfills(io, bs::BlockSpec)::Bool</code></pre><p>Check whether <code>io</code> fulfills the given <a href="#BlockSystems.BlockSpec"><code>BlockSpec</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/BlockSystems.jl/blob/64f1dcb5c18c24159f1750ea0a9e5277e169317d/src/BlockSystems.jl#LL423-L427">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="generated/spacecraft/">Spacecraft »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Monday 7 November 2022 15:17">Monday 7 November 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
